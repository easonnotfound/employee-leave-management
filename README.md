# 员工请假管理系统

## 项目目标
开发一个智能化的员工请假管理系统，通过AI对话的方式为员工提供便捷的请假申请服务。

## 📊 员工数据结构分析
基于 `employee_data.xlsx` 文件，系统包含以下员工信息：
- **基础信息**：员工编号、姓名、部门、职位、入职日期、工作制度、直属主管
- **联系信息**：联系电话、紧急联系人
- **假期数据**：年假全额、已用病假、已用事假

## 🎯 核心功能规划

### 1. 员工身份验证
- **验证流程**：首先核实姓名，如有误则询问工号
- **验证失败**：姓名和工号均不匹配则拒绝请假申请
- **数据源**：基于employee_data.xlsx中的员工信息

### 2. AI智能请假对话
- **请假类型识别**：年假、病假、事假、婚假、产假、丧假、调休假
- **智能提醒**：根据请假制度自动提醒相关要求
- **审批规则检查**：自动判断所需审批层级

### 3. 请假制度自动化处理
#### 年假计算
- 工作满1年：5天 | 满3年：10天 | 满5年：15天
- 剩余年假天数自动计算

#### 审批流程自动分配
- 1天内：直属主管
- 2-5天：主管+部门总监  
- 5天以上：主管+部门总监+HR经理
- 10天以上：需CEO审批

#### 特殊部门规则
- 技术部冲刺期：需技术总监审批
- 销售部关键期：需销售总监评估
- 财务部月末：需特别审批
- 产品部发布期：需产品总监审批

### 4. 标准请假单生成
**输出字段**：
- 员工姓名、工号、请假日期、请假时长
- 剩余年假时长、请假类型、申请时间
- 审批流程、工作交接要求

### 5. 管理员后台
- 查看所有请假记录
- 审批状态追踪
- 员工假期统计分析

## 🛠 技术架构

### 前端技术栈
- **HTML5** - 页面结构
- **CSS3** - 现代化UI设计（毛玻璃效果、渐变背景）
- **原生JavaScript** - 业务逻辑处理
- **Font Awesome** - 专业图标库

### 数据处理
- **JSON格式** - 将Excel数据转换为JS可读格式
- **本地存储** - 使用localStorage保存请假记录
- **文件导出** - 生成Excel/PDF格式请假单

### AI集成方案
- **Vibe Coding AI** - 智能对话处理
- **自然语言处理** - 理解员工请假意图
- **规则引擎** - 自动化审批逻辑

## 📱 用户界面设计

### 员工端界面
1. **Hero区域** - 欢迎界面和功能预览
2. **身份验证卡片** - 简洁的验证表单
3. **AI对话区域** - 类ChatGPT的对话界面
4. **请假单预览** - 卡片式布局展示
5. **下载功能** - 一键导出请假单

### 管理员后台
1. **数据看板** - 假期统计图表
2. **记录管理** - 表格式记录查看
3. **审批队列** - 待处理审批列表

## 🎨 设计语言
- **Apple设计哲学**：简洁至上、人性化交互
- **现代化UI**：卡片布局、网格系统、响应式设计
- **交互动画**：悬停效果、过渡动画
- **专业视觉**：避免emoji，使用品牌化图标

## 📋 开发步骤规划

### ✅ 第一阶段：基础架构（已完成）
- [x] 创建HTML页面结构
- [x] 设计CSS样式系统
- [x] Excel数据转JSON处理
- [x] 基础JavaScript框架
- [x] 云雾AI API集成
- [x] 员工身份验证系统
- [x] AI对话界面开发

### ✅ 第二阶段：核心功能（已完成）
- [x] 员工身份验证系统（支持姓名/工号双重验证）
- [x] AI对话界面开发（流式传输、智能信息提取）
- [x] 请假规则引擎（完整规则体系）
- [x] 请假单生成器（标准化表格、可编辑）

### ✅ 第三阶段：高级功能（已完成）
- [x] 管理员后台（统计看板、记录管理）
- [x] 数据统计分析（实时统计）
- [x] 文件导出功能（图片/PDF下载）
- [x] 响应式优化（完全适配移动端）

### ⚠️ 第四阶段：集成测试（基本完成）
- [x] 云雾AI集成（claude 4）
- [x] 核心功能测试（身份验证、对话、生成表格）
- [x] 用户体验优化（Apple设计风格、交互动画）
- [ ] 生产环境部署（待确认服务器配置）

## 🎯 **项目完成度总结**

### 📊 **整体进度：95% 完成**
- ✅ **基础架构**：100% 完成
- ✅ **核心功能**：100% 完成  
- ✅ **高级功能**：100% 完成
- ⚠️ **集成测试**：90% 完成

### 🚀 **已实现的核心特性**
- **🤖 AI智能对话**：完整的云雾AI集成，支持流式对话和智能信息提取
- **🔐 身份验证系统**：支持姓名/工号双重验证，完整的员工数据管理
- **📋 智能表格生成**：自动生成标准化请假表格，支持在线编辑
- **📱 响应式设计**：完美适配桌面和移动设备
- **📊 管理员后台**：完整的数据统计和记录管理
- **💾 文件导出**：支持图片和PDF格式下载
- **⚖️ 规则引擎**：完整的请假规则判断和审批流程

### 📋 **待完善事项**
- [ ] 生产环境服务器部署配置
- [ ] 第三方库加载容错机制优化
- [ ] 用户使用手册完善

## 📁 项目文件结构（规划）
```
员工请假/
├── README.md
├── employee_data.xlsx          # 员工基础数据
├── index.html                  # 主页面
├── css/
│   ├── style.css              # 主样式文件
│   └── admin.css              # 管理员样式
├── js/
│   ├── app.js                 # 主应用逻辑
│   ├── employee-data.js       # 员工数据处理
│   ├── leave-rules.js         # 请假规则引擎
│   └── admin.js               # 管理员功能
└── assets/
    └── icons/                 # Font Awesome图标
```

## 🚀 快速开始

### 系统要求
- 现代浏览器（Chrome、Firefox、Safari、Edge）
- 网络连接（用于AI功能）

### 启动方式
1. 直接双击 `index.html` 文件
2. 或使用本地服务器：`python -m http.server 8000`
3. 在浏览器中访问系统

### 使用指南

#### 员工请假申请
1. **身份验证**：输入姓名（如：张伟）进行身份验证
2. **AI对话**：与AI助手对话，描述请假需求
3. **信息确认**：AI会引导您提供完整的请假信息
4. **生成请假单**：系统自动生成标准请假申请表
5. **下载/打印**：可直接下载或打印请假单

#### 管理员后台
1. 点击"管理后台"切换到管理员视图
2. 查看员工信息、请假记录和统计数据
3. 管理员工假期余额和审批状态

### 系统功能

#### ✅ 已实现功能
- 🔐 **员工身份验证**：支持姓名和工号双重验证
- 🤖 **AI智能对话**：集成云雾AI，理解自然语言请假需求
- 📋 **请假类型识别**：支持年假、病假、事假等多种假期类型
- 🧮 **智能规则检查**：自动验证假期余额、提前申请时间等
- 📄 **请假单生成**：自动生成标准化的请假申请表
- 👥 **管理员后台**：查看员工信息和请假记录
- 📱 **响应式设计**：支持桌面和移动设备访问

#### 🎯 核心特性
- **Apple设计风格**：简洁优雅的用户界面
- **毛玻璃效果**：现代化的视觉设计
- **智能审批流程**：根据请假天数自动确定审批层级
- **工作交接提醒**：根据部门特点提供交接要求
- **假期余额管理**：实时计算和显示假期余额

### 技术亮点

#### AI集成
- 使用云雾AI API进行自然语言处理
- 支持复杂对话逻辑和上下文理解
- 智能提取请假信息并生成结构化数据

#### 前端技术
- 纯HTML/CSS/JavaScript实现
- CSS Grid和Flexbox布局
- CSS自定义属性（变量）系统
- 响应式设计和移动端适配

#### 数据管理
- 本地存储持久化数据
- JSON格式的员工数据管理
- 完整的请假规则引擎

---
*本项目采用纯前端技术栈，便于初学者理解和维护* 